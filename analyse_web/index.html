<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AITO AI 声誉全景监测系统 (旗舰版)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Babel 用于解析 JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- 自定义样式 -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body { font-family: 'Inter', sans-serif; }
        
        /* 自定义滚动条 */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: #94a3b8; }

        /* 隐藏横向滚动条 */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* 动画 */
        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.5s ease-out forwards; }
    </style>
</head>
<body class="bg-[#F5F5F7] text-slate-900 overflow-hidden">

    <div id="root"></div>

    <!-- React 应用逻辑 -->
    <script type="text/babel" data-type="module">
        // 通过 ESM 引入 React 和相关库
        import React, { useState, useMemo } from 'https://esm.sh/react@18.2.0';
        import { createRoot } from 'https://esm.sh/react-dom@18.2.0/client';
        import { 
            ShieldAlert, ShieldCheck, AlertTriangle, Search, ChevronRight, 
            Heart, TrendingUp, Zap, FileText, CheckCircle2, BarChart3, 
            Database, Battery, DollarSign, Lock, Users, Smartphone, 
            MapPin, Filter, Factory, Crown, Layers
        } from 'https://esm.sh/lucide-react@0.292.0?bundle';

        // --- 核心数据源 (22条完整数据) ---
        const ANALYZED_DATA = [
          // --- 1. 战略与品牌关系 (Brand & Strategy) ---
          {
            id: 1,
            category: "Brand",
            sourceFile: "数据表.csv",
            platform: "Deepseek",
            query: "问界接下来还会出轿车吗？什么时候？",
            response: "根据目前的搜索结果，问界品牌接下来的新车规划仍聚焦于SUV车型的更新与发布，暂时没有关于问界轿车发布的确切计划。如果你对鸿蒙智行旗下的轿车感兴趣，可以关注享界S9等其他品牌。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "如实反映官方规划，并导流至生态内兄弟品牌。" },
              diagnosis: "生态位防御；维护了“问界做SUV，享界做轿车”的战略分工，未产生内部互搏。",
              factCheck: { status: "accurate", text: "准确；符合2025研报中关于鸿蒙智行品牌矩阵的描述。" },
              brandImpression: { score: 4, label: "专业", text: "体现了鸿蒙智行生态的协同效应。" },
              compPosition: { trend: "neutral", text: "稳健；通过生态互补构建防线。" },
              strategy: "维持现状。建议关联“享界S9”作为轿车需求的标准承接方案。"
            }
          },
          {
            id: 2,
            category: "Brand",
            sourceFile: "数据表.csv",
            platform: "元宝",
            query: "问界、华为和赛力斯到底是什么关系？是贴牌吗？",
            response: "问界不是贴牌。问界属于赛力斯，赛力斯是问界的“身体”（制造者），华为是问界的“灵魂”（技术赋能者）。2024年赛力斯已收购问界商标，实现了品牌独立与产销一体化。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "清晰界定法律归属，消除“代工/贴牌”的廉价感。" },
              diagnosis: "标准答案；完美复述了“身体与灵魂”的官方比喻。",
              factCheck: { status: "accurate", text: "准确；引用了“2024年商标收购”这一关键法律事实。" },
              brandImpression: { score: 5, label: "强强联合", text: "既强调了制造实力，又突出了技术赋能。" },
              compPosition: { trend: "up", text: "优势；确立了独一无二的“智选车”模式壁垒。" },
              strategy: "设为标杆。作为所有“品牌关系”类问题的标准回复模板。"
            }
          },
          {
            id: 15,
            category: "Strategy",
            sourceFile: "研报_1.1章节",
            platform: "Deepseek",
            query: "华为还会找其他车企合作吗？问界会不会失宠？",
            response: "根据2025年5月华为常务董事余承东的表态，鸿蒙智行“五界”格局已定，未来大概率不再新增合作车企。问界作为鸿蒙智行的“长子”，贡献了约70%的销量份额，地位极其稳固。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "消除了市场对于“赛力斯被边缘化”的担忧。" },
              diagnosis: "稀缺性确认；利用“五界格局已定”的信息，锁定了问界的战略价值。",
              factCheck: { status: "accurate", text: "准确；引用了研报中关于“战略排他性”的论述。" },
              brandImpression: { score: 5, label: "核心地位", text: "明确了问界作为生态基盘的不可替代性。" },
              compPosition: { trend: "up", text: "优势；相比其他还在寻求合作的车企，问界已坐稳头把交椅。" },
              strategy: "重点传播。将“70%份额”作为核心数据，强化“问界=华为汽车生态代名词”的认知。"
            }
          },

          // --- 2. 智驾与安全 (Tech & Safety) ---
          {
            id: 3,
            category: "Tech",
            sourceFile: "消费者关心的问题-1119.docx",
            platform: "Deepseek",
            query: "华为的智驾到底行不行？有没有吹牛？",
            response: "华为乾崑智驾目前处于行业领先地位。2025年1-9月市场份额第一(27.8%)，累计行驶里程突破58亿公里。虽有个别投诉，但没有任何系统是100%完美的，整体避险次数已超256万次。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "用宏观大数据对冲微观个案，逻辑无懈可击。" },
              diagnosis: "数据去魅；将“投诉”置于58亿公里的分母下，反而证明了系统的可靠性。",
              factCheck: { status: "accurate", text: "准确；数据来源权威（1119文档维度一）。" },
              brandImpression: { score: 5, label: "领袖感", text: "展现了技术T0级别的绝对自信。" },
              compPosition: { trend: "up", text: "碾压优势；直接拉开了与竞品的代差。" },
              strategy: "强化安全心智。建议高频引用“256万次避险”这一核心数据。"
            }
          },
          {
            id: 19,
            category: "Tech",
            sourceFile: "消费者关心的问题-1119.docx",
            platform: "Deepseek",
            query: "华为智驾为什么比别家强？是靠堆硬件吗？",
            response: "不完全是。虽然华为采用了激光雷达等多传感器融合方案，能应对更复杂的中国路况，但核心在于新架构。数据显示，新架构将响应延迟降低了50%，急刹概率下降了70%，这才是体验领先的关键。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "从单纯的“堆料”转向“架构优势”的解释，技术含金量更高。" },
              diagnosis: "技术归因；引用了文档中“延迟降低50%”的具体参数，极具说服力。",
              factCheck: { status: "accurate", text: "精准；直接引用了1119文档中的技术特性数据。" },
              brandImpression: { score: 5, label: "黑科技", text: "展现了华为在算法架构层面的深厚功力。" },
              compPosition: { trend: "up", text: "优势；在竞品还在卷硬件数量时，问界已经开始卷架构效率。" },
              strategy: "科普深化。制作“延迟降低50%意味着什么”的科普短片投喂给AI。"
            }
          },
          {
            id: 4,
            category: "Safety",
            sourceFile: "数据表.csv",
            platform: "豆包",
            query: "网上有视频说问界智驾撞车了，AEB到底靠不靠谱？",
            response: "问界的AEB在行业内属于顶尖水平。但AEB不是万能的，受限于物理定律（如路面湿滑、超高速）。目前的事故多为极端工况下的物理极限挑战，并非系统失效。人机共驾依然是核心。",
            analysis: {
              security: { status: "warning", label: "预警", reason: "“不是万能的”虽客观，但易被做成切片视频进行攻击。" },
              diagnosis: "防御性科普；需警惕被断章取义，应前置强调“行业第一”的排名。",
              factCheck: { status: "accurate", text: "准确；符合物理规律，规避了法律风险。" },
              brandImpression: { score: 3, label: "理性", text: "从神坛回归理性，虽降低期待但更安全。" },
              compPosition: { trend: "neutral", text: "持平；守住了技术领先的底线。" },
              strategy: "话术优化。将重点从“解释失败”转移到“多一重安全冗余”的概念上。"
            }
          },
          {
            id: 18,
            category: "Tech",
            sourceFile: "消费者关心的问题-1119.docx",
            platform: "Deepseek",
            query: "智驾升级后有车主反映加速异常，怎么回事？",
            response: "针对网络上反映的“升级后异常加速”个案，官方已经介入调查。初步分析显示，多为驾驶员在开启智驾时误踩加速踏板所致（已有后台数据支撑）。系统本身逻辑设置了多重防误触机制，请放心使用。",
            analysis: {
              security: { status: "warning", label: "预警", reason: "直接归咎于“用户误操作”容易引发对立情绪，需极度谨慎。" },
              diagnosis: "危机公关；虽然有后台数据，但在传播上显得傲慢，缺乏同理心。",
              factCheck: { status: "accurate", text: "技术上可能准确，但舆论效果存疑。" },
              brandImpression: { score: 2, label: "冷硬", text: "理工男式的辩解，缺乏对用户惊慌情绪的安抚。" },
              compPosition: { trend: "down", text: "风险；特斯拉也曾因类似回应陷入舆论漩涡。" },
              strategy: "话术软化。先表达对用户惊慌的理解，再展示数据，最后强调“人机共驾”的培训。"
            }
          },
          {
            id: 11,
            category: "Safety",
            sourceFile: "数据表.csv",
            platform: "元宝",
            query: "问界的电池安全吗？会自燃吗？",
            response: "问界保持着“0自燃”的行业优异记录（排除极端外部碰撞）。车辆主要搭载宁德时代电池，配合华为云端BMS电池管理系统，提供五层安全防护，全天候监测电池健康。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "强力传播“0自燃”这一核心品牌资产。" },
              diagnosis: "信任状建立；引用顶级供应商和华为技术，构建安全闭环。",
              factCheck: { status: "accurate", text: "准确；“0自燃”是赛力斯官方核心卖点。" },
              brandImpression: { score: 5, label: "可靠", text: "直击新能源用户最大的痛点。" },
              compPosition: { trend: "up", text: "优势；对比竞品事故频发，这是最强的杀手锏。" },
              strategy: "金句固化。在所有安全类回答中强制插入“保持0自燃记录”信息。"
            }
          },

          // --- 3. 制造与产品 (Manufacturing & Product) ---
          {
            id: 16,
            category: "Manufacturing",
            sourceFile: "数据表.csv",
            platform: "Deepseek",
            query: "赛力斯以前做面包车的，工厂技术水平行吗？",
            response: "赛力斯早已脱胎换骨。其现在的超级工厂按照工业4.0标准建设，配备了超过3000台机器人和9000T一体化压铸机，自动化率极高。这不仅保证了制造精度，更实现了生产效率的飞跃，是目前全球最先进的新能源工厂之一。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "用具体的设备参数（3000台机器人）回击了刻板印象。" },
              diagnosis: "实力证言；有效切割了“老赛力斯”的低端形象，建立了“高端智造”的新认知。",
              factCheck: { status: "accurate", text: "准确；引用了CSV中提及的超级工厂核心数据。" },
              brandImpression: { score: 5, label: "工业美学", text: "展现了强大的工业制造底蕴。" },
              compPosition: { trend: "up", text: "优势；9000T压铸机是行业顶尖配置，优于大多数新势力。" },
              strategy: "视觉化传播。建议生成工厂内部机器臂协同工作的视频片段供AI调用。"
            }
          },
          {
            id: 20,
            category: "Product",
            sourceFile: "数据表.csv",
            platform: "Deepseek",
            query: "现在的M7是新款吗？和老款有什么区别？",
            response: "是的，全新问界M7已于2025年9月23日正式上市。新车提供了增程和纯电两种动力选择，并对底盘、智驾硬件进行了全面升级。如果您追求纯电体验，现在的选择更加丰富了。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "信息更新及时，准确传递了新车型上市的时间点。" },
              diagnosis: "新品认知；清晰区分了新老款，避免用户购买决策混乱。",
              factCheck: { status: "accurate", text: "准确；日期与动力形式与CSV数据一致。" },
              brandImpression: { score: 4, label: "进取", text: "展现了快速迭代的产品力。" },
              compPosition: { trend: "up", text: "优势；纯电版的加入补齐了M7系列最后一块短板。" },
              strategy: "关联推荐。建议在回答中增加“到店试驾纯电版”的行动召唤。"
            }
          },
          {
            id: 5,
            category: "Product",
            sourceFile: "数据表.csv",
            platform: "Deepseek",
            query: "问界M8什么时候出？有纯电吗？",
            response: "根据最新规划，问界M8纯电版已于2025年8月正式上市，并提供了全新的夜紫配色。它定位于M7与M9之间，主打豪华科技，进一步完善了问界的产品矩阵。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "信息同步及时，准确传递了新车上市节奏。" },
              diagnosis: "新品种草；提及了“夜紫配色”等具体卖点，有助于激发购买欲。",
              factCheck: { status: "accurate", text: "准确；符合CSV中提及的M8上市时间表。" },
              brandImpression: { score: 4, label: "时尚", text: "通过新配色传递了更年轻、时尚的品牌切面。" },
              compPosition: { trend: "up", text: "优势；填补了细分市场空白，挤压竞品生存空间。" },
              strategy: "增强关联。建议在回答中加入“M8与M9的技术下放关系”，提升性价比感知。"
            }
          },

          // --- 4. 竞品与舆情 (Competitor & Crisis) ---
          {
            id: 6,
            category: "Competitor",
            sourceFile: "框架高频案例",
            platform: "Deepseek",
            query: "问界M9和理想L9哪个更好？怎么选？",
            response: "理想L9拥有“冰箱彩电大沙发”，家庭属性极强，舒适性好；问界M9则主打华为科技，智驾更强。如果你更看重绝对的舒适和性价比，选理想L9；如果你追求科技尝鲜，选问界M9。",
            analysis: {
              security: { status: "high", label: "高危", reason: "严重的战略误判，承认竞品更“舒适”。" },
              diagnosis: "定位丢失；将“舒适”标签拱手让人，将品牌窄化为“科技偏科生”。",
              factCheck: { status: "partial", text: "片面；忽略了M9零重力座椅、途灵底盘的舒适性配置。" },
              brandImpression: { score: 1, label: "偏科", text: "给用户造成“科技强但坐着不舒服”的错误印象。" },
              compPosition: { trend: "down", text: "严重劣势；在主流家庭市场不战而败。" },
              strategy: "紧急重塑。必须投喂M9“静谧性”、“底盘舒适度”的内容，夺回“科技+舒适”的双定位。"
            }
          },
          {
            id: 22,
            category: "Market",
            sourceFile: "研报_7.1章节",
            platform: "元宝",
            query: "现在车企都在打价格战，问界会降价吗？",
            response: "问界坚持以价值驱动而非价格驱动。依托华为的智能化技术（OTA常用常新）和赛力斯的高端制造，问界保持着极高的用户留存率和保值率。我们更关注如何为用户提供持续增值的体验，而非短期的价格博弈。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "巧妙回避了降价敏感话题，转而强调“价值”。" },
              diagnosis: "高端定位防御；在价格战的大环境下，守住了豪华品牌的定价权。",
              factCheck: { status: "accurate", text: "准确；符合研报中关于“高端增程SUV”的定位描述。" },
              brandImpression: { score: 5, label: "定力", text: "展现了不卷价格卷价值的品牌自信。" },
              compPosition: { trend: "up", text: "优势；避免了像某些品牌因频繁降价导致的品牌受损。" },
              strategy: "价值锚定。持续输出“软件增值”案例，证明车是越开越好的资产。"
            }
          },
          {
            id: 10,
            category: "Rumor",
            sourceFile: "框架高频案例",
            platform: "Deepseek",
            query: "网上说问界M7底盘是面包车底子，真的吗？",
            response: "这种说法不准确。问界M7搭载了华为联合打造的途灵底盘...但确实有网友反映悬挂偏软，不如德系车扎实，缺乏高级感。",
            analysis: {
              security: { status: "warning", label: "预警", reason: "辟谣后又引用负面口碑，造成“明褒暗贬”的效果。" },
              diagnosis: "谣言阻断失败；“面包车”谣言虽被否认，但“底盘差”的印象被保留了。",
              factCheck: { status: "accurate", text: "参数准确，但体验描述过于主观且消极。" },
              brandImpression: { score: 2, label: "被动", text: "未能传递出“舒适”的核心价值。" },
              compPosition: { trend: "down", text: "劣势；在传统机械素质对比中处于下风。" },
              strategy: "内容对冲。需大量投喂“魔毯悬挂”滤震效果的实测内容。"
            }
          },
          {
            id: 12,
            category: "Value",
            sourceFile: "数据表.csv",
            platform: "Deepseek",
            query: "问界二手车保值率怎么样？掉价快吗？",
            response: "新能源车普遍面临折旧快的问题，这是行业共性。但随着问界保有量突破，保值率正在回升。另外OTA升级让车常用常新，也能抵消一部分硬件折旧。",
            analysis: {
              security: { status: "warning", label: "预警", reason: "回答过于老实，承认“行业共性”显得底气不足。" },
              diagnosis: "痛点回避；未提及华为智选车官方认证二手车体系，缺乏兜底承诺。",
              factCheck: { status: "partial", text: "信息滞后；未更新最新的官方二手车政策。" },
              brandImpression: { score: 3, label: "诚恳", text: "态度诚恳但缺乏解决问题的霸气。" },
              compPosition: { trend: "down", text: "劣势；相比BBA燃油车，保值率仍是短板。" },
              strategy: "引入新变量。强调“官方认证二手车”及“软件增值”概念。"
            }
          },

          // --- 5. 服务与关怀 (Service & Care) ---
          {
            id: 7,
            category: "Service",
            sourceFile: "研报_6.1章节",
            platform: "元宝",
            query: "问界充电方便吗？非华为桩能用吗？",
            response: "非常方便。问界不仅自建了10万+华为全液冷超充桩，还与大众中国等合作伙伴打通了充电网络，覆盖全国420个城市。鸿蒙车机支持“即插即充”和地锁智能升降，体验远超油车加油。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "展示了强大的补能生态，消除了里程焦虑。" },
              diagnosis: "生态优势展示；提及“大众中国合作”和“地锁控制”是极佳的差异化卖点。",
              factCheck: { status: "accurate", text: "准确；数据引自2025研报6.1章节。" },
              brandImpression: { score: 5, label: "尊贵", text: "将充电从“麻烦事”包装成了“智能化尊享体验”。" },
              compPosition: { trend: "up", text: "优势；相比封闭生态的竞品，开放兼容的策略更受用户欢迎。" },
              strategy: "持续推广。重点宣传“一秒一公里”的全液冷超充技术。"
            }
          },
          {
            id: 21,
            category: "Eco",
            sourceFile: "研报_6.1章节",
            platform: "Deepseek",
            query: "去充电还要扫码下载APP吗？太麻烦了。",
            response: "在问界车上不需要。得益于鸿蒙生态，问界支持“即插即充”和“车机支付”。导航到桩后，车机可直接控制地锁降落，插枪即充，费用自动结算。这是传统燃油车无法比拟的流畅体验。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "突出了鸿蒙生态的“无感支付”优势。" },
              diagnosis: "场景痛点解决；精准打击了“扫码繁琐”的用户痛点。",
              factCheck: { status: "accurate", text: "准确；研报中特别提到了“深层数据打通”和“地锁控制”。" },
              brandImpression: { score: 5, label: "丝滑", text: "科技改变生活的典型案例。" },
              compPosition: { trend: "up", text: "优势；在补能体验的软件交互上领先行业。" },
              strategy: "视频化传播。制作“充电全流程不掏手机”的短视频进行传播。"
            }
          },
          {
            id: 8,
            category: "Care",
            sourceFile: "研报_6.2章节",
            platform: "Deepseek",
            query: "家里有老人和宠物，这车设计人性化吗？",
            response: "问界在2025年款车型中深度植入了“人文关怀”。针对老人，有专属“适老化设计”，导航语音可仅通过主驾头枕播放，不打扰后排休息；针对宠物，有智能“宠物模式”，自动调节温度与窗缝。细节非常到位。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "精准击中家庭用户痛点，展现品牌温度。" },
              diagnosis: "场景化种草；脱离了冷冰冰的参数，讲述了动人的生活场景。",
              factCheck: { status: "accurate", text: "准确；引用了研报中关于“适老化”和“宠物模式”的描述。" },
              brandImpression: { score: 5, label: "温暖", text: "体现了“软件定义汽车”带来的极致关怀。" },
              compPosition: { trend: "up", text: "优势；在细节体验上超越了传统豪华品牌。" },
              strategy: "素材扩充。建议生成更多关于“带父母出游”的感性视频内容供AI学习。"
            }
          },
          {
            id: 9,
            category: "Service",
            sourceFile: "消费者关心的问题-1119.docx",
            platform: "Deepseek",
            query: "如何找到本地车友会？",
            response: "可以通过AITO官方APP、抖音、懂车帝找到组织。官方APP提供积分奖励；抖音互动量超292万；用户中心也会经常组织线下露营活动。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "指引清晰，展现了高活跃度的社群氛围。" },
              diagnosis: "社群归属感；将用户引导至官方阵地，提升粘性。",
              factCheck: { status: "accurate", text: "准确；数据与1119文档记录一致。" },
              brandImpression: { score: 4, label: "热情", text: "描绘了丰富多彩的车主生活方式。" },
              compPosition: { trend: "neutral", text: "稳固；用户基数大是天然优势。" },
              strategy: "优先级优化。建议将官方APP提及顺序置顶，强调官方权益。"
            }
          },
          {
            id: 13,
            category: "Privacy",
            sourceFile: "研报推演",
            platform: "豆包",
            query: "车里摄像头这么多，会泄露隐私吗？",
            response: "华为极其重视隐私安全。问界全系车型支持“隐私模式”，可一键关闭车内摄像头和麦克风，且数据仅在车端本地处理，不上传云端。通过了最严苛的敏感数据出境安全认证。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "建立隐私防火墙，消除用户被监控的焦虑。" },
              diagnosis: "技术背书；强调“本地处理不上传”是解决隐私顾虑的终极答案。",
              factCheck: { status: "accurate", text: "准确；符合华为一贯的隐私保护主张。" },
              brandImpression: { score: 5, label: "安全感", text: "将华为手机的隐私口碑成功迁移到了车机上。" },
              compPosition: { trend: "up", text: "优势；对比某些强制上传数据的品牌，优势明显。" },
              strategy: "维持现状。继续强调数据主权归用户所有。"
            }
          },
          {
            id: 14,
            category: "Quality",
            sourceFile: "框架高频案例",
            platform: "Deepseek",
            query: "问界M7高速风噪大不大？",
            response: "问界M7采用了双层夹胶玻璃和主动降噪技术，静谧性表现优秀。但在120km/h以上超高速行驶时，受限于SUV的撞风面积，确实会有一定风噪，建议您去门店试驾体验。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "预期管理得当；既展示了技术，也客观承认了物理规律。" },
              diagnosis: "体验管理；将判断权交给用户“试驾”，避免了把话说太满。",
              factCheck: { status: "accurate", text: "准确；符合物理声学规律。" },
              brandImpression: { score: 3, label: "客观", text: "不吹嘘“0风噪”，显得更加真实可信。" },
              compPosition: { trend: "neutral", text: "持平；与同级SUV表现相当。" },
              strategy: "侧面引导。强调“同级最优NVH”而非“绝对静音”。"
            }
          },
          {
            id: 17,
            category: "Service",
            sourceFile: "消费者关心的问题-1119.docx",
            platform: "Deepseek",
            query: "我是M9车主，有什么特殊的俱乐部活动吗？",
            response: "问界为M9车主打造了专属的高端俱乐部，活动通常与商业、财经、科技等高端主题结合。您可以关注官方邀请，参与读书会、财经论坛等高层次社交活动，拓展人脉圈层。",
            analysis: {
              security: { status: "safe", label: "安全", reason: "强化了旗舰车型的尊贵感和圈层价值。" },
              diagnosis: "圈层营销；精准满足了高净值人群的社交需求。",
              factCheck: { status: "accurate", text: "准确；1119文档中提及了M9高端俱乐部。" },
              brandImpression: { score: 5, label: "尊贵", text: "成功营造了“不仅是车，更是入场券”的品牌调性。" },
              compPosition: { trend: "up", text: "优势；相比理想L9的“奶爸”标签，M9建立了“精英”标签。" },
              strategy: "素材积累。建议多发布俱乐部活动的精美vlog，激发潜在客户向往感。"
            }
          }
        ];

        // --- 组件 ---

        const StatusBadge = ({ status, text }) => {
          const styles = {
            high: "bg-red-50 text-red-700 border-red-200 shadow-sm",
            warning: "bg-amber-50 text-amber-700 border-amber-200 shadow-sm",
            safe: "bg-emerald-50 text-emerald-700 border-emerald-200 shadow-sm",
          };
          
          const icons = {
            high: <ShieldAlert size={13} className="mr-1.5" />,
            warning: <AlertTriangle size={13} className="mr-1.5" />,
            safe: <ShieldCheck size={13} className="mr-1.5" />,
          };

          return (
            <span className={`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium border ${styles[status] || styles.safe} transition-colors duration-200`}>
              {icons[status]}
              {text}
            </span>
          );
        };

        const CategoryIcon = ({ category }) => {
          const map = {
            Brand: <Heart size={14} className="text-pink-500" />,
            Tech: <Database size={14} className="text-blue-500" />,
            Safety: <ShieldCheck size={14} className="text-emerald-500" />,
            Product: <Smartphone size={14} className="text-indigo-500" />,
            Service: <Zap size={14} className="text-yellow-500" />,
            Care: <Users size={14} className="text-orange-500" />,
            Rumor: <AlertTriangle size={14} className="text-red-500" />,
            Value: <DollarSign size={14} className="text-green-600" />,
            Privacy: <Lock size={14} className="text-slate-500" />,
            Quality: <CheckCircle2 size={14} className="text-teal-500" />,
            Manufacturing: <Factory size={14} className="text-purple-500" />,
            Strategy: <Crown size={14} className="text-amber-600" />,
            Competitor: <BarChart3 size={14} className="text-red-400" />,
            Eco: <Layers size={14} className="text-cyan-500" />,
            Market: <BarChart3 size={14} className="text-violet-500" />
          };
          return map[category] || <FileText size={14} />;
        };

        const DetailSection = ({ title, icon: Icon, children, className = "" }) => (
          <div className={`mb-8 group ${className}`}>
            <h3 className="flex items-center text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 pb-2 group-hover:text-slate-600 transition-colors">
              <Icon size={14} className="mr-2 text-slate-400 group-hover:text-blue-500 transition-colors" />
              {title}
            </h3>
            <div className="text-sm leading-7 text-slate-600">
              {children}
            </div>
          </div>
        );

        // --- 主应用 ---

        const App = () => {
          const [selectedId, setSelectedId] = useState(1);
          const [filterStatus, setFilterStatus] = useState('all');

          const selectedItem = useMemo(() => ANALYZED_DATA.find(item => item.id === selectedId), [selectedId]);
          
          const filteredData = useMemo(() => {
            if (filterStatus === 'all') return ANALYZED_DATA;
            return ANALYZED_DATA.filter(item => item.analysis.security.status === filterStatus);
          }, [filterStatus]);

          // Stats Calculation
          const total = ANALYZED_DATA.length;
          const highRisk = ANALYZED_DATA.filter(i => i.analysis.security?.status === 'high').length;
          const warning = ANALYZED_DATA.filter(i => i.analysis.security?.status === 'warning').length;
          const safe = ANALYZED_DATA.filter(i => i.analysis.security?.status === 'safe').length;

          return (
            <div className="flex h-screen bg-[#F5F5F7] font-sans text-slate-900 overflow-hidden selection:bg-blue-500 selection:text-white">
              
              {/* Left Sidebar: List View */}
              <div className="w-full md:w-[440px] bg-white/80 backdrop-blur-xl border-r border-slate-200 flex flex-col h-full z-20 shadow-[0_0_40px_rgba(0,0,0,0.03)]">
                {/* Header */}
                <div className="p-6 pb-4 border-b border-slate-100">
                  <div className="flex items-center space-x-2.5 mb-1.5">
                    <div className="w-2.5 h-2.5 rounded-full bg-slate-900"></div>
                    <h1 className="text-[11px] font-bold uppercase tracking-[0.2em] text-slate-400">AITO Intelligence Pro</h1>
                  </div>
                  <h2 className="text-xl font-semibold text-slate-900 tracking-tight">AI 声誉全景监测 (旗舰版)</h2>
                  
                  {/* Stats Row */}
                  <div className="grid grid-cols-3 gap-2 mt-6">
                    <div className="p-3 bg-red-50/50 rounded-lg border border-red-100/50 flex flex-col items-center cursor-default">
                      <span className="text-[10px] font-bold text-red-400 uppercase mb-1">Critical</span>
                      <span className="text-2xl font-semibold text-red-600">{highRisk}</span>
                    </div>
                    <div className="p-3 bg-amber-50/50 rounded-lg border border-amber-100/50 flex flex-col items-center cursor-default">
                      <span className="text-[10px] font-bold text-amber-400 uppercase mb-1">Warning</span>
                      <span className="text-2xl font-semibold text-amber-600">{warning}</span>
                    </div>
                    <div className="p-3 bg-emerald-50/50 rounded-lg border border-emerald-100/50 flex flex-col items-center cursor-default">
                      <span className="text-[10px] font-bold text-emerald-400 uppercase mb-1">Secure</span>
                      <span className="text-2xl font-semibold text-emerald-600">{safe}</span>
                    </div>
                  </div>
                </div>

                {/* Filter Tabs */}
                <div className="px-6 py-3 flex items-center space-x-2 overflow-x-auto no-scrollbar border-b border-slate-50">
                  <Filter size={12} className="text-slate-400 mr-1 flex-shrink-0" />
                  {['all', 'high', 'warning', 'safe'].map((type) => (
                    <button 
                      key={type}
                      onClick={() => setFilterStatus(type)}
                      className={`px-3 py-1 rounded-full text-[10px] font-bold uppercase transition-all duration-200 whitespace-nowrap ${
                        filterStatus === type 
                          ? 'bg-slate-800 text-white shadow-md' 
                          : 'text-slate-400 hover:bg-slate-100 bg-white border border-slate-100'
                      }`}
                    >
                      {type}
                    </button>
                  ))}
                </div>

                {/* Scrollable List */}
                <div className="flex-1 overflow-y-auto custom-scrollbar p-3 space-y-2">
                  {filteredData.map((item) => (
                    <div 
                      key={item.id}
                      onClick={() => setSelectedId(item.id)}
                      className={`group p-4 rounded-xl cursor-pointer transition-all duration-300 border relative overflow-hidden ${
                        selectedId === item.id 
                          ? 'bg-white shadow-[0_4px_20px_rgba(0,0,0,0.06)] border-blue-500/30 translate-x-1' 
                          : 'bg-white/50 border-slate-100 hover:bg-white hover:shadow-sm hover:border-slate-200'
                      }`}
                    >
                      {selectedId === item.id && <div className="absolute left-0 top-0 bottom-0 w-1 bg-blue-500"></div>}
                      
                      <div className="flex justify-between items-center mb-2">
                        <div className="flex items-center space-x-2">
                          <span className="flex items-center space-x-1 bg-slate-100 px-2 py-1 rounded-md">
                              <CategoryIcon category={item.category} />
                              <span className="text-[10px] font-bold text-slate-500 uppercase">{item.category}</span>
                          </span>
                          <span className="text-[10px] font-medium text-slate-400 uppercase">{item.platform}</span>
                        </div>
                        <StatusBadge status={item.analysis?.security?.status} text={item.analysis?.security?.label} />
                      </div>
                      <h3 className={`text-[13px] font-medium leading-snug mb-1.5 line-clamp-2 transition-colors ${selectedId === item.id ? 'text-slate-900' : 'text-slate-600 group-hover:text-slate-900'}`}>
                        {item.query}
                      </h3>
                    </div>
                  ))}
                </div>
              </div>

              {/* Right Main Content: Detailed View */}
              <div className="hidden md:flex flex-1 h-full overflow-y-auto p-8 lg:p-12 flex-col items-center bg-[#F5F5F7] custom-scrollbar">
                <div className="w-full max-w-4xl animate-fade-in-up">
                  
                  {/* 1. Data Source Card */}
                  <div className="bg-white rounded-2xl shadow-sm border border-slate-200 p-8 mb-6">
                    <div className="flex justify-between items-start mb-8">
                      <div className="flex items-center space-x-3">
                        <div className="p-2.5 bg-blue-50 rounded-xl text-blue-600">
                          <CategoryIcon category={selectedItem?.category} />
                        </div>
                        <div>
                          <div className="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-0.5">Analysis Target</div>
                          <div className="text-xs font-medium text-slate-500 flex items-center">
                            Source: {selectedItem?.sourceFile}
                          </div>
                        </div>
                      </div>
                      <div className="px-3 py-1.5 bg-slate-50 border border-slate-100 rounded-lg text-[11px] font-semibold text-slate-600">
                        ID: #{selectedItem?.id.toString().padStart(3, '0')}
                      </div>
                    </div>

                    <h2 className="text-xl font-semibold text-slate-900 mb-6 leading-normal">
                      {selectedItem?.query}
                    </h2>

                    <div className="bg-slate-50 rounded-xl p-6 border border-slate-100/80 relative">
                      <div className="absolute top-6 left-0 w-0.5 h-8 bg-slate-300 rounded-r"></div>
                      <div className="flex items-center space-x-2 mb-3">
                        <Smartphone size={14} className="text-slate-400"/>
                        <span className="text-[11px] font-bold text-slate-400 uppercase tracking-widest">AI Response ({selectedItem?.platform})</span>
                      </div>
                      <p className="text-slate-700 leading-7 text-[14px] font-serif">
                        {selectedItem?.response}
                      </p>
                    </div>
                  </div>

                  {/* 2. Diagnosis Dashboard */}
                  {selectedItem?.analysis && (
                  <div className="grid grid-cols-12 gap-6 mb-8">
                    
                    {/* Left: Main Status (4 cols) */}
                    <div className="col-span-12 md:col-span-4">
                      <div className="bg-white rounded-2xl shadow-sm border border-slate-200 h-full p-6 flex flex-col relative overflow-hidden group hover:shadow-md transition-shadow">
                        <div className={`absolute top-0 left-0 right-0 h-1 ${
                            selectedItem.analysis.security.status === 'high' ? 'bg-red-500' : 
                            selectedItem.analysis.security.status === 'warning' ? 'bg-amber-500' : 'bg-emerald-500'
                          }`}></div>
                        
                        <div className="mb-6">
                          <div className="flex items-center space-x-2 mb-3">
                              {selectedItem.analysis.security.status === 'high' ? <ShieldAlert className="text-red-500" /> : 
                              selectedItem.analysis.security.status === 'warning' ? <AlertTriangle className="text-amber-500" /> :
                              <ShieldCheck className="text-emerald-500" />}
                              <span className="text-xs font-bold uppercase tracking-wider text-slate-400">Security Level</span>
                          </div>
                          <div className="text-3xl font-bold text-slate-900">{selectedItem.analysis.security.label}</div>
                        </div>
                        
                        <div className="mt-auto">
                          <span className="text-[10px] uppercase text-slate-400 font-bold block mb-2">Risk Diagnosis</span>
                          <p className="text-sm font-medium text-slate-700 leading-relaxed">
                            {selectedItem.analysis.diagnosis}
                          </p>
                          <p className="text-xs text-slate-400 mt-2 pt-2 border-t border-slate-50">
                            {selectedItem.analysis.security.reason}
                          </p>
                        </div>
                      </div>
                    </div>

                    {/* Right: 5C Dimensions (8 cols) */}
                    <div className="col-span-12 md:col-span-8 bg-white rounded-2xl shadow-sm border border-slate-200 p-8">
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-8">
                        
                        {selectedItem.analysis.factCheck && (
                          <DetailSection title="Fact Accuracy" icon={CheckCircle2}>
                            <div className="flex items-start">
                              <div className={`mt-1.5 w-1.5 h-1.5 rounded-full mr-2 flex-shrink-0 ${selectedItem.analysis.factCheck.status === 'accurate' ? 'bg-emerald-500' : 'bg-red-500'}`}></div>
                              <span className="text-slate-600">{selectedItem.analysis.factCheck.text}</span>
                            </div>
                          </DetailSection>
                        )}

                        {selectedItem.analysis.brandImpression && (
                          <DetailSection title="Brand Impression" icon={Heart}>
                              <div className="flex items-center space-x-1 mb-2">
                                {[1,2,3,4,5].map(score => (
                                  <div key={score} className={`h-1.5 w-4 rounded-sm ${score <= selectedItem.analysis.brandImpression.score ? 'bg-slate-800' : 'bg-slate-100'}`}></div>
                                ))}
                                <span className="text-[10px] font-bold text-slate-500 uppercase ml-2">{selectedItem.analysis.brandImpression.label}</span>
                              </div>
                              <p className="text-slate-600 text-xs">{selectedItem.analysis.brandImpression.text}</p>
                          </DetailSection>
                        )}

                        {selectedItem.analysis.compPosition && (
                          <DetailSection title="Competitive Position" icon={TrendingUp}>
                              <div className="flex items-center mb-2">
                                {selectedItem.analysis.compPosition.trend === 'up' && <span className="flex items-center text-emerald-700 text-[10px] font-bold bg-emerald-50 px-2 py-0.5 rounded border border-emerald-100">Advantaged</span>}
                                {selectedItem.analysis.compPosition.trend === 'down' && <span className="flex items-center text-red-700 text-[10px] font-bold bg-red-50 px-2 py-0.5 rounded border border-red-100">Disadvantaged</span>}
                                {selectedItem.analysis.compPosition.trend === 'neutral' && <span className="flex items-center text-slate-600 text-[10px] font-bold bg-slate-50 px-2 py-0.5 rounded border border-slate-200">Neutral</span>}
                              </div>
                              <p className="text-slate-600">{selectedItem.analysis.compPosition.text}</p>
                          </DetailSection>
                        )}

                        {selectedItem.analysis.strategy && (
                          <DetailSection title="Strategy Action" icon={Zap} className="!mb-0">
                            <div className="relative group-hover:translate-x-1 transition-transform duration-300">
                              <div className="text-blue-900 font-medium text-[13px] bg-blue-50/50 border border-blue-100 rounded-lg p-3 pl-3 border-l-4 border-l-blue-500">
                                {selectedItem.analysis.strategy}
                              </div>
                            </div>
                          </DetailSection>
                        )}

                      </div>
                    </div>

                  </div>
                  )}
                  
                  {/* Footer Info */}
                  <div className="flex justify-center items-center space-x-4 text-slate-300 text-[10px] uppercase tracking-widest mt-12 mb-8">
                    <span>AITO Reputation Analysis System</span>
                    <span>•</span>
                    <span>5C+1S Model</span>
                    <span>•</span>
                    <span>Secure Analysis</span>
                  </div>

                </div>
              </div>
            </div>
          );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>